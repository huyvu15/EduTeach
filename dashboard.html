<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bảng điều khiển - EduTeach</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="dashboard-page">
  <!-- Sidebar -->
  <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
          <div class="logo">
              <i class="fas fa-graduation-cap"></i>
              <span>EduTeach</span>
          </div>
          <button class="sidebar-toggle" id="sidebarToggle">
              <i class="fas fa-bars"></i>
          </button>
      </div>
      
      <nav class="sidebar-nav">
          <ul class="nav-list">
              <li class="nav-item active">
                  <a href="dashboard.html" class="nav-link">
                      <i class="fas fa-tachometer-alt"></i>
                      <span>Bảng điều khiển</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a href="courses.html" class="nav-link">
                      <i class="fas fa-book"></i>
                      <span>Khóa học</span>
                      <span class="badge">12</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a href="assignments.html" class="nav-link">
                      <i class="fas fa-tasks"></i>
                      <span>Bài tập</span>
                      <span class="badge">38</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a href="exams.html" class="nav-link">
                      <i class="fas fa-file-alt"></i>
                      <span>Kỳ thi</span>
                      <span class="badge">8</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a href="webinars.html" class="nav-link">
                      <i class="fas fa-video"></i>
                      <span>Webinar</span>
                      <span class="badge">5</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a href="students.html" class="nav-link">
                      <i class="fas fa-users"></i>
                      <span>Học viên</span>
                      <span class="badge">245</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a href="library.html" class="nav-link">
                      <i class="fas fa-book-open"></i>
                      <span>Thư viện</span>
                      <span class="badge">156</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a href="forum.html" class="nav-link">
                      <i class="fas fa-comments"></i>
                      <span>Diễn đàn</span>
                      <span class="badge">28</span>
                  </a>
              </li>
              <li class="nav-item">
                  <a href="settings.html" class="nav-link">
                      <i class="fas fa-cog"></i>
                      <span>Cài đặt</span>
                  </a>
              </li>
          </ul>
      </nav>
      
      <div class="sidebar-footer">
          <div class="user-profile sidebar-avatar">
              <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face" alt="Avatar" class="user-avatar">
              <div class="user-info">
                  <span class="user-name">GS. Nguyễn Văn A</span>
                  <span class="user-role">Giảng viên</span>
              </div>
          </div>
          <button class="logout-btn" onclick="logout()">
              <i class="fas fa-sign-out-alt"></i>
          </button>
      </div>
  </aside>
  
  <!-- Main Content -->
  <main class="main-content">
      <!-- Header -->
      <header class="header">
          <div class="header-left">
              <button class="mobile-menu-btn" id="mobileMenuBtn">
                  <i class="fas fa-bars"></i>
              </button>
              <h1>Bảng điều khiển</h1>
          </div>
          
          <div class="header-right">
              <div class="search-box">
                  <i class="fas fa-search"></i>
                  <input type="text" placeholder="Tìm kiếm...">
              </div>
              
              <div class="header-actions">
                  <button class="action-btn notification-btn">
                      <i class="fas fa-bell"></i>
                      <span class="notification-count">3</span>
                  </button>
                  
                  <div class="user-menu">
                      <button class="user-menu-btn header-avatar" id="userMenuBtn">
                          <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=32&h=32&fit=crop&crop=face" alt="Avatar" class="user-avatar-small">
                          <i class="fas fa-chevron-down"></i>
                      </button>
                      <div class="user-dropdown" id="userDropdown">
                          <a href="#" onclick="openAvatarModal()"><i class="fas fa-user"></i> Hồ sơ</a>
                          <a href="settings.html"><i class="fas fa-cog"></i> Cài đặt</a>
                          <a href="index.html"><i class="fas fa-sign-out-alt"></i> Đăng xuất</a>
                      </div>
                  </div>
              </div>
          </div>
      </header>
      
      <!-- Dashboard Content -->
      <div class="dashboard-content">
          <!-- Stats Cards -->
          <div class="stats-grid">
              <div class="stat-card">
                  <div class="stat-icon">
                      <i class="fas fa-tasks"></i>
                  </div>
                  <div class="stat-info">
                      <h3>38</h3>
                      <p>Bài tập</p>
                      <span class="stat-change positive">+5 tuần này</span>
                  </div>
              </div>
              
              <div class="stat-card">
                  <div class="stat-icon">
                      <i class="fas fa-users"></i>
                  </div>
                  <div class="stat-info">
                      <h3>245</h3>
                      <p>Học viên</p>
                      <span class="stat-change positive">+15 tuần này</span>
                  </div>
              </div>
              
              <div class="stat-card">
                  <div class="stat-icon">
                      <i class="fas fa-check-circle"></i>
                  </div>
                  <div class="stat-info">
                      <h3>156</h3>
                      <p>Bài đã nộp</p>
                      <span class="stat-change positive">+23 hôm nay</span>
                  </div>
              </div>
              
              <div class="stat-card">
                  <div class="stat-icon">
                      <i class="fas fa-star"></i>
                  </div>
                  <div class="stat-info">
                      <h3>4.8</h3>
                      <p>Đánh giá TB</p>
                      <span class="stat-change positive">+0.2 tháng này</span>
                  </div>
              </div>
          </div>
          
          <!-- Charts and Recent Activity -->
          <div class="dashboard-grid">
              <div class="chart-container">
                  <div class="card">
                      <div class="card-header">
                          <h3>Thống kê học viên</h3>
                          <select class="time-filter">
                              <option>7 ngày qua</option>
                              <option>30 ngày qua</option>
                              <option>3 tháng qua</option>
                          </select>
                      </div>
                      <div class="card-body">
                          <canvas id="studentChart"></canvas>
                      </div>
                  </div>
              </div>
              
              <div class="recent-activity">
                  <div class="card">
                      <div class="card-header">
                          <h3>Hoạt động gần đây</h3>
                          <a href="#" class="view-all">Xem tất cả</a>
                      </div>
                      <div class="card-body">
                          <div class="activity-list">
                              <div class="activity-item">
                                  <div class="activity-icon">
                                      <i class="fas fa-user-plus"></i>
                                  </div>
                                  <div class="activity-content">
                                      <p><strong>Nguyễn Thị B</strong> đã nộp bài tập "JavaScript cơ bản"</p>
                                      <span class="activity-time">2 phút trước</span>
                                  </div>
                              </div>
                              
                              <div class="activity-item">
                                  <div class="activity-icon">
                                      <i class="fas fa-file-alt"></i>
                                  </div>
                                  <div class="activity-content">
                                      <p><strong>Trần Văn C</strong> đã nộp bài tập "HTML Forms"</p>
                                      <span class="activity-time">15 phút trước</span>
                                  </div>
                              </div>
                              
                              <div class="activity-item">
                                  <div class="activity-icon">
                                      <i class="fas fa-comment"></i>
                                  </div>
                                  <div class="activity-content">
                                      <p><strong>Lê Thị D</strong> đã đặt câu hỏi mới</p>
                                      <span class="activity-time">1 giờ trước</span>
                                  </div>
                              </div>
                              
                              <div class="activity-item">
                                  <div class="activity-icon">
                                      <i class="fas fa-star"></i>
                                  </div>
                                  <div class="activity-content">
                                      <p><strong>Phạm Văn E</strong> đã đánh giá 5 sao</p>
                                      <span class="activity-time">2 giờ trước</span>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          
          <!-- Quick Actions and Upcoming Events -->
          <div class="dashboard-grid">
              <div class="quick-actions">
                  <div class="card">
                      <div class="card-header">
                          <h3>Thao tác nhanh</h3>
                      </div>
                      <div class="card-body">
                          <div class="action-buttons">
                              <button class="action-button" onclick="window.location.href='assignments.html'">
                                  <i class="fas fa-plus"></i>
                                  <span>Tạo bài tập mới</span>
                              </button>
                              <button class="action-button" onclick="window.location.href='students.html'">
                                  <i class="fas fa-user-plus"></i>
                                  <span>Thêm học viên</span>
                              </button>
                              <button class="action-button" onclick="window.location.href='assignments.html'">
                                  <i class="fas fa-check"></i>
                                  <span>Chấm bài tập</span>
                              </button>
                              <button class="action-button">
                                  <i class="fas fa-bell"></i>
                                  <span>Gửi thông báo</span>
                              </button>
                          </div>
                      </div>
                  </div>
              </div>
              
              <div class="upcoming-events">
                  <div class="card">
                      <div class="card-header">
                          <h3>Sự kiện sắp tới</h3>
                      </div>
                      <div class="card-body">
                          <div class="event-list">
                              <div class="event-item">
                                  <div class="event-date">
                                      <span class="day">15</span>
                                      <span class="month">Th12</span>
                                  </div>
                                  <div class="event-content">
                                      <h4>Hạn nộp bài tập HTML</h4>
                                      <p>23:59</p>
                                      <span class="event-attendees">45 học viên</span>
                                  </div>
                              </div>
                              
                              <div class="event-item">
                                  <div class="event-date">
                                      <span class="day">18</span>
                                      <span class="month">Th12</span>
                                  </div>
                                  <div class="event-content">
                                      <h4>Hạn nộp bài tập CSS</h4>
                                      <p>23:59</p>
                                      <span class="event-attendees">38 học viên</span>
                                  </div>
                              </div>
                              
                              <div class="event-item">
                                  <div class="event-date">
                                      <span class="day">20</span>
                                      <span class="month">Th12</span>
                                  </div>
                                  <div class="event-content">
                                      <h4>Kỳ thi giữa kỳ</h4>
                                      <p>09:00 - 11:00</p>
                                      <span class="event-attendees">120 học viên</span>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </main>

  <!-- Avatar Management Modal -->
  <div class="modal avatar-modal" id="avatarModal">
      <div class="modal-content">
          <div class="modal-header">
              <h3>Quản lý Avatar</h3>
              <button class="modal-close" onclick="closeAvatarModal()">
                  <i class="fas fa-times"></i>
              </button>
          </div>
          <div class="modal-body">
              <div class="avatar-tabs">
                  <button class="avatar-tab active" data-tab="upload">Tải lên</button>
                  <button class="avatar-tab" data-tab="gallery">Thư viện</button>
              </div>
              
              <!-- Upload Tab -->
              <div class="avatar-tab-content active" id="upload-tab">
                  <div class="avatar-upload-area" onclick="document.getElementById('avatarInput').click()">
                      <div class="upload-icon">
                          <i class="fas fa-camera"></i>
                      </div>
                      <div class="upload-text">Tải lên ảnh đại diện</div>
                      <div class="upload-hint">JPG, PNG tối đa 5MB</div>
                      <input type="file" id="avatarInput" style="display: none;" accept="image/*">
                  </div>
                  
                  <div class="avatar-preview" style="display: none;">
                      <img src="/placeholder.svg" alt="Preview" class="avatar-preview-image">
                      <div class="avatar-preview-info">
                          <h4>Xem trước</h4>
                          <p>Ảnh đại diện mới của bạn</p>
                      </div>
                  </div>
              </div>
              
              <!-- Gallery Tab -->
              <div class="avatar-tab-content" id="gallery-tab">
                  <div class="avatar-gallery">
                      <div class="avatar-option" data-avatar="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=80&h=80&fit=crop&crop=face">
                          <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=80&h=80&fit=crop&crop=face" alt="Avatar 1">
                      </div>
                      <div class="avatar-option" data-avatar="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=80&h=80&fit=crop&crop=face">
                          <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=80&h=80&fit=crop&crop=face" alt="Avatar 2">
                      </div>
                      <div class="avatar-option" data-avatar="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=80&h=80&fit=crop&crop=face">
                          <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=80&h=80&fit=crop&crop=face" alt="Avatar 3">
                      </div>
                      <div class="avatar-option" data-avatar="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=80&h=80&fit=crop&crop=face">
                          <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=80&h=80&fit=crop&crop=face" alt="Avatar 4">
                      </div>
                      <div class="avatar-option" data-avatar="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=80&h=80&fit=crop&crop=face">
                          <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=80&h=80&fit=crop&crop=face" alt="Avatar 5">
                      </div>
                      <div class="avatar-option" data-avatar="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=80&h=80&fit=crop&crop=face">
                          <img src="https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=80&h=80&fit=crop&crop=face" alt="Avatar 6">
                      </div>
                  </div>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-outline" onclick="closeAvatarModal()">Hủy</button>
              <button type="button" class="btn btn-primary" onclick="saveAvatar()">Lưu thay đổi</button>
          </div>
      </div>
  </div>
  
  <script src="api.js"></script>
  <script src="script.js"></script>
  <script>
      // Initialize dashboard chart
      const ctx = document.getElementById('studentChart').getContext('2d');
      new Chart(ctx, {
          type: 'line',
          data: {
              labels: ['T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'CN'],
              datasets: [{
                  label: 'Học viên hoạt động',
                  data: [65, 78, 90, 81, 95, 88, 76],
                  borderColor: '#4f46e5',
                  backgroundColor: 'rgba(79, 70, 229, 0.1)',
                  tension: 0.4,
                  fill: true
              }]
          },
          options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                  legend: {
                      display: false
                  }
              },
              scales: {
                  y: {
                      beginAtZero: true,
                      grid: {
                          color: 'rgba(0,0,0,0.1)'
                      }
                  },
                  x: {
                      grid: {
                          display: false
                      }
                  }
              }
          }
      });
  </script>
</body>
</html>
